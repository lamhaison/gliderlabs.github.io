<!doctype html>
<html>
<head>
  <title>Blog :: Glider Labs</title>
  <meta charset="utf-8">
  <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
  <link rel="shortcut icon" type="image/x-icon" href="/images/dots.png" />
  <link rel="stylesheet" type="text/css"
    href="//fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Condensed:400,700">
  <link href="/stylesheets/normalize.css" rel="stylesheet" type="text/css" /><link href="/stylesheets/syntax.css" rel="stylesheet" type="text/css" /><link href="/stylesheets/global.css" rel="stylesheet" type="text/css" /><link href="/stylesheets/default.css" rel="stylesheet" type="text/css" />
  <link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/blog/atom.xml" />
</head>

<body>
<div id="wrapper">

  <header>
    <div class="container clearfix">
      <nav>
        <ul class="nav">
          <li class="presentation"><h1 id="logo"><a href="/"><img src="/images/gliderlabs.png" /></a></h1></li>
          <li class="presentation"><a href="/services">Services</a></li>
          <li class="presentation"><a href="/blog">Blog</a></li>
          <li class="presentation"><a href="/about">About</a></li>
          <!-- <li class="presentation"><a href="/advocate">Advocate</a></li> -->
          <li class="presentation"><a target="_bank" href="http://github.com/gliderlabs">Open Source</a></li>
          <li class="presentation"><a href="mailto:team+contact@gliderlabs.com"><i class="fa fa-envelope-o"></i>Contact Us</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main id="main" role="main">
    <section>
<div class="container">
<div class="row">
  <div class="col-lg-9">
    <article>
      <h1><a href="/blog/2015/08/10/registrator-v6/">Registrator v6</a></h1>
      <p class="sub">Glider Labs wrote this on
        August
        10,
        2015</p>

      <p>Last Friday we finally cut a <a href="https://github.com/gliderlabs/registrator/releases/tag/v6">new release</a> of Registrator. At the bottom of this
post are relevant changes, but for most already using Registrator from master there is nothing new. However, with this release there is also a great new <a href="http://gliderlabs.com/registrator">documentation
site</a>.</p>

<p>Our last release turned out to have some critical bugs that caused us to
immediately re-point <code>gliderlabs/registrator:latest</code> to our <em>previous</em> release.
So for the past six months, if anybody was using <code>:latest</code>, they were using a
pretty old version. Most active users have known to use <code>:master</code>.</p>

<p>The plan was to fix the issues in v5 and quickly move to v6, but to avoid a
repeat, we made the fixes and decided to wait and let the community verify
stability of master. This went on for too long and for various reasons continued
to slip.</p>

<p>Given the popularity of Registrator and recent sponsorship by
<a href="http://weave.works/">Weave</a>, we finally got to invest some time in Registrator to
make it a more sustainable project. First we had to release current master. We
also put some time into documentation, as well as <a href="http://gliderlabs.com/pagebuilder">documentation
infrastructure</a> for other projects.</p>

<p>Expect more releases soon as we start heading towards an LTS release.</p>

<h3>Fixed</h3>

<ul>
<li>Support for etcd v0 and v2</li>
<li>Panic from invalid skydns2 URI.</li>
</ul>

<h3>Added</h3>

<ul>
<li>Optional periodic resyncing of services from containers</li>
<li>More error logging for registries</li>
<li>Support for services on containers with <code>--net=host</code></li>
<li>Added <code>extensions.go</code> file for adding/disabling components</li>
<li>Interpolate <code>SERVICE_PORT</code> and <code>SERVICE_IP</code> in <code>SERVICE_X_CHECK_SCRIPT</code></li>
<li>Ability to force IP for a service in Consul</li>
<li>Implemented initial ping for every service registry</li>
<li>Option to only deregister containers cleanly shutdown</li>
<li>Added support for label metadata along with environment variables</li>
</ul>

<h3>Changed</h3>

<ul>
<li>Overall refactoring and cleanup</li>
<li>Decoupled registries into subpackages using extpoints</li>
<li>Replaced check-http script with Consul&rsquo;s native HTTP checks</li>
</ul>


    </article>

    <a href="/blog/2015/08/10/registrator-v6/#disqus_thread">Comments</a>
    <br /><br />
  </div>

  <div class="col-lg-3" id="sidebar">
    <p>Glider Labs is a modern DevOps consultancy and systems R&amp;D lab in Austin, Texas.</p>
    <p>We work with clients to build modern service architectures, operations automation, and Docker delivery pipelines.</p>
    <p>We also build open source tools for the future of systems engineering, thanks to our partners and R&amp;D sponsors.</p>
    <p>Glider Labs is owned and operated by <a href="https://twitter.com/andyamok">Andy Shinn</a> and <a href="http://twitter.com/progrium">Jeff Lindsay</a>.</p>

    <p class="social">
    	<h5><a href="http://github.com/gliderlabs">
    		<i class="fa fa-github fa-2x"></i>Github</a></h5>
    	<h5><a href="http://twitter.com/gliderlabs">
    		<i class="fa fa-twitter-square fa-2x"></i>Twitter</a></h5>
    	<h5><a href="/blog/atom.xml">
    		<i class="fa fa-rss-square fa-2x"></i>Feed</a></h5>
    </p>
</div>

</div>
</div>
</section>




<section class="alternate">
<div class="container">
  <div class="row">
    <div class="col-lg-9">
      <ul class="pager article">

        <li class="previous disabled">
          <a href="#">&larr; Older</a>
        </li>

        <li class="next disabled">
          <a href="#">Newer &rarr;</a>
        </li>

      </ul>
    </div>
  </div>
</div>
</section>

  </main>

  <footer>
    <div class="container clearfix">
      <p>
        <a href="http://github.com/gliderlabs"><i class="fa fa-github fa-3x"></i></a>
        <a href="http://twitter.com/gliderlabs"><i class="fa fa-twitter fa-3x"></i></a>
        <a href="/blog/atom.xml"><i class="fa fa-rss-square fa-3x"></i></a>
      </p>
      &copy; 2015 Glider Labs, LLC<br />
      Austin, Texas
    </div>
  </footer>

</div>

<script src="/javascripts/all.js" type="text/javascript"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-58928488-1', 'auto');
  ga('send', 'pageview');
</script>

</body>
</html>
